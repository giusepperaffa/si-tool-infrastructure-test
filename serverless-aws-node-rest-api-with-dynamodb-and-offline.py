# =========================
# Infrastructure Dictionary
# =========================
InfrastructureDict = {'service': 'serverless-rest-api-with-dynamodb', 'frameworkVersion': '>=1.1.0 <=2.4.0', 'plugins': ['serverless-dynamodb-local', 'serverless-offline'], 'custom': {'dynamodb': {'stages': ['dev'], 'start': {'port': 8000, 'inMemory': True, 'migrate': True, 'noStart': True}, 'migration': {'dir': 'offline/migrations'}}}, 'provider': {'name': 'aws', 'runtime': 'nodejs12.x', 'environment': {'DYNAMODB_TABLE': '${self:service}-${opt:stage, self:provider.stage}'}, 'iamRoleStatements': [{'Effect': 'Allow', 'Action': ['dynamodb:Query', 'dynamodb:Scan', 'dynamodb:GetItem', 'dynamodb:PutItem', 'dynamodb:UpdateItem', 'dynamodb:DeleteItem'], 'Resource': 'arn:aws:dynamodb:${opt:region, self:provider.region}:*:table/${self:provider.environment.DYNAMODB_TABLE}'}]}, 'functions': {'create': {'handler': 'todos/create.create', 'events': [{'http': {'path': 'todos', 'method': 'post', 'cors': True}}]}, 'list': {'handler': 'todos/list.list', 'events': [{'http': {'path': 'todos', 'method': 'get', 'cors': True}}]}, 'get': {'handler': 'todos/get.get', 'events': [{'http': {'path': 'todos/{id}', 'method': 'get', 'cors': True}}]}, 'update': {'handler': 'todos/update.update', 'events': [{'http': {'path': 'todos/{id}', 'method': 'put', 'cors': True}}]}, 'delete': {'handler': 'todos/delete.delete', 'events': [{'http': {'path': 'todos/{id}', 'method': 'delete', 'cors': True}}]}}, 'resources': {'Resources': {'TodosDynamoDbTable': {'Type': 'AWS::DynamoDB::Table', 'DeletionPolicy': 'Retain', 'Properties': {'AttributeDefinitions': [{'AttributeName': 'id', 'AttributeType': 'S'}], 'KeySchema': [{'AttributeName': 'id', 'KeyType': 'HASH'}], 'BillingMode': 'PAY_PER_REQUEST', 'TableName': '${self:provider.environment.DYNAMODB_TABLE}'}}}}}